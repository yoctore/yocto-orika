"use strict";function OrkaisseFactory(a){this.logger=a}var logger=require("yocto-logger"),_=require("lodash"),moment=require("moment");OrkaisseFactory.prototype.order=function(a,b,c,d,e){return{idm:a||0,dt:moment().format("YYYY-MM-DD"),idtrs:b||"",idcli:c||"",items:d||[],vouchers:e||[]}},OrkaisseFactory.prototype.prepare=function(a,b,c,d,e,f){return _.merge({idtkt:d||""},this.order(a,b,c,e,f))},OrkaisseFactory.prototype.paid=function(a,b,c,d,e){return _.merge({netttc:d||0,payments:e||0},_.pick(this.prepare(a,b,null,c),["idm","dt","idtrs","idtkt"]))},OrkaisseFactory.prototype.cancel=function(a,b,c,d){return _.pick(this.prepare(a,b,c,d),["idm","dt","idtrs","idcli","idtkt"])},module.exports=function(a){return(_.isUndefined(a)||_.isNull(a))&&(logger.warning(["[ YoctoOrika.OrkaisseFactory.constructor ] -","Invalid logger given. Use internal logger"].join(" ")),a=logger),new OrkaisseFactory(a)};